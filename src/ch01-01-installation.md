## การติดตั้ง

ในขั้นแรกที่จะติดตั้ง Rust จะต้องดาวน์โหลด Rust ผ่านทาง `rustup` ซึ่งเป็นเครื่องมือ
command line สำหรับการจัดการเวอร์ชัน Rust และเครื่องมือที่เกี่ยวข้อง โดยคุณจำเป็นต้องมีการเชื่อมต่ออินเทอร์เน็ตเพื่อดาวน์โหลด

> หมายเหตุ: ถ้าคุณไม่อยากใช้ `rustup` ด้วยเหตุผลบางอย่าง กรุณาดูวิธีการอื่นที่ [the Rust
> installation page](https://www.rust-lang.org/tools/install)

ขั้นตอนต่อไปนี้คือการติดตั้งคอมไพเลอร์ Rust เวอร์ชัน stable เวอร์ชันล่าสุด
ความเสถียรของ Rust ช่วยให้มั่นใจได้ว่าตัวอย่างทั้งหมดในหนังสือเล่มนี้
จะยังคงคอมไพล์กับ Rust เวอร์ชันใหม่ๆ ได้ โดยผลลัพธ์อาจจะแตกต่างกันเล็กน้อยในแต่ละเวอร์ชัน เนื่องจาก Rust มักจะปรับปรุงข้อความแสดงข้อผิดพลาดและคำเตือน กล่าวอีกนัยหนึ่งคือ Rust เวอร์ชันใหม่ที่คุณติดตั้งด้วย
การใช้ขั้นตอนเหล่านี้ควรจะทำงานได้เหมือนกับที่คาดไว้กับเนื้อหาของหนังสือเล่มนี้

> ### เครื่องหมาย Command Line
>
> ในบทนี้และตลอดทั้งเล่ม, เราจะบอกถึงคำสั่งที่ใช้ใน
> terminal บรรทัดที่พิมพ์คำสั่งเข้าไปยัง terminal จะเริ่มด้วย `$`คุณ
> ไม่จำเป็นต้องพิมพ์ `$` สัญลักษณ์นี้มันแค่หมายถึงเริ่มต้นคำสั่งตรงนี้
> โดยบรรทัดที่ไม่ได้เริ่มต้นด้วย `$` จะแสดงเอาต์พุตของคำสั่งก่อนหน้า
> นอกจากนี้ตัวอย่างสำหรับใน PowerShell-specific จะใช้ `>`
> แทน `$`.

### ติดตั้ง `rustup` บน Linux หรือ macOS

ถ้าคุณใช้ Linux หรือ macOS, เปิด terminal และพิมพ์คำสั่งต่อไปนี้:

```console
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

และจะมีการดาวน์โหลดและติดตั้ง `rustup`
โดยจะติดตั้งเวอร์ชัน stable คุณอาจได้รับแจ้งให้ใส่รหัสผ่านของคุณ
โดยเมื่อติดตั้งสำเร็จ จะมีข้อความนี้ปรากฏขึ้นมา:

```text
Rust is installed now. Great!
```

นอกจากนี้ คุณอาจจำเป็นต้องใช้ linker บางชนิด ซึ่งดูเหมือนจะถูกติตั้งแล้ว
แต่ว่าเมื่อคอมไพล์ ก็พบว่ามีข้อผิดพลาดขึ้นว่า linker could not execute 
นั่นหมายถึง linker ยังไม่ได้ถูกติกตั้งในระบบของคุณ
และคุณจะต้องติดตั้งด้วยตัวเองโดย C compilers มักมากับ
linker ที่ถูกต้อง ตรวจสอบคู่มือแพลตฟอร์มสำหรับวิธีการติดตั้ง C compiler 
และแพ็คเกจ Rust ที่มีโค้ดภาษา C จำเป็นจะต้องใช้ C compiler
ดังนั้น มันอาจจะคุ้มค่าที่จะติดตั้งเลยตอนนี้

### ติดตั้ง `rustup` บน Windows

สำหรับ Windows ไปที่ [https://www.rust-lang.org/tools/install][install] และทำตามขั้นตอนเพื่อที่จะติดตั้ง Rust แบะในขณะที่กำลังติดตั้งอยู่ คุณจะได้รับข้อความว่าจำเป็นต้องติดตั้ง C++ build tools สำหรับ Visual Studio 2013 หรือรุ่นใหม่กว่า วิธีการง่ายที่สุดในการติดตั้ง build tools คือไปที่ [Build Tools for Visual Studio 2019][visualstudio] และทำการติดตั้ง "C++ build tools", Windows 10 SDK และ English language pack components

[install]: https://www.rust-lang.org/tools/install
[visualstudio]: https://visualstudio.microsoft.com/visual-cpp-build-tools/

ในหนังสือนี้จะใช้คำสั่งที่สามารถทำงานได้ทั้งใน *cmd.exe* และ PowerShell
ถ้ามีอะไรที่แตกต่าง เราจะอธิบายว่าต้องใช้อันไหน

### การอัพเดทและถอนการติดตั้ง

หลังจากติดตั้ง Rust ผ่านทาง `rustup`, การอัพเดทเป็นเวอร์ชันล่าสุดสามารถทำได้โดยพิมพ์คำสั่งผ่าน Shell:

```console
$ rustup update
```

หากจะถอนการติดตั้ง `rustup`, พิมพ์คำสั่งนี้เพื่อถอนการติดตั้งผ่าน Shell:

```console
$ rustup self uninstall
```

### การแก้ไขปัญหา

เพื่อตรวจสอบว่า Rust ถูกติดตั้งอย่างถูกต้อง เปิด shell และพิมพ์คำสั่งนี้:

```console
$ rustc --version
```

คุณจะเห็นหมายเลขเวอร์ชัน, commit hash, และวันที่ commit สำหรับเวอร์ชัน
stable ในรูปแบบต่อไปนี้:

```text
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

ถ้าคุณเห็นข้อมูลเหล่านี้, แสดงว่าคุณติดตั้ง Rust สำเร็จแล้ว! ถ้าไม่เห็นข้อมูลใดๆ และคุณใช้ Windows 
ตรวจสอบว่าได้ใส่ที่อยู่ติดตั้งไฟล์ Rust ใน `%PATH%` ใน system variable ถ้าทำตามขั้นตอนข้างต้นแล้วยังไม่สำเร็จ สามารถสอบถามขอความช่วยเหลือ โดยวิธีง่ายสุดคือเข้า #beginners channel ใน
[the official Rust Discord][discord] ที่นี่คุณสามารถคุยกับ Rustaceans อื่นได้
(ชื่อเล่นสำหรับคนที่ใช้ Rust) และแหล่งข้อมูลเพิ่มเติมหาได้จาก [the Users forum][users] และ [Stack Overflow][stackoverflow].

[discord]: https://discord.gg/rust-lang
[users]: https://users.rust-lang.org/
[stackoverflow]: https://stackoverflow.com/questions/tagged/rust

### คู่มือแบบออฟไลน์ (Local Documentation)

การติดตั้งนี้ได้ติดตั้งคู่มือแบบออฟไลน์ไว้ด้วย ดังนั้นถ้าจะอ่านแบบออฟไลน์
ให้รันคำสั่ง `rustup doc` เพื่อเปิดคู่มือแบบออฟไลน์ในบราวเซอร์

บางครั้งหากมีชนิด (type) หรือฟังก์ชันที่มีในไลบรารีมาตรฐานและคุณไม่แน่ใจว่าจะใช้ยังไง
ใช้คู่มือของ application programming interface (API) เพื่อดูวิธีการใช้ได้
